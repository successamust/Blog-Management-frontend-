@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800;900&display=swap');

[data-theme="light"],
:root {
  /* Primary Colors */
  --accent: #1A8917;
  --accent-hover: #166E14;
  --accent-soft: #E7F6E6;
  
  /* Neutral Backgrounds */
  --page-bg: #F6F2ED;
  --content-bg: #FAF9F7;
  --surface-bg: #FFFFFF;
  --surface-subtle: #E7F6E6;
  
  /* Text Colors */
  --text-primary: #0F172A;
  --text-secondary: #475569;
  --text-muted: #94A3B8;
  
  /* Borders & Shadows */
  --border-subtle: #E2E8F0;
  --shadow-default: rgba(0, 0, 0, 0.05);
}

[data-theme="dark"],
.dark {
  /* Primary Colors */
  --accent: #4ADE80;
  --accent-hover: #22C55E;
  --accent-soft: #1F2937;
  
  /* Neutral Backgrounds */
  --page-bg: #0F172A;
  --content-bg: #1E293B;
  --surface-bg: #1E293B;
  --surface-subtle: #334155;
  
  /* Text Colors */
  --text-primary: #F1F5F9;
  --text-secondary: #CBD5E1;
  --text-muted: #64748B;
  
  /* Borders & Shadows */
  --border-subtle: #334155;
  --shadow-default: rgba(0, 0, 0, 0.3);
}

/* Select dropdown styling for proper visibility */
select {
  background-color: var(--surface-bg) !important;
  color: var(--text-primary) !important;
  position: relative;
  height: 2.5rem !important;
  min-height: 2.5rem !important;
  max-height: 2.5rem !important;
  overflow: hidden !important;
}

select option {
  background-color: var(--surface-bg) !important;
  color: var(--text-primary) !important;
  padding: 0.5rem;
}

/* Ensure select dropdown works in modals */
select:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 2px var(--accent);
  height: 2.5rem !important;
  max-height: 2.5rem !important;
}

/* Override default browser focus styles for all input types with green */
input:focus,
input[type="text"]:focus,
input[type="email"]:focus,
input[type="password"]:focus,
input[type="date"]:focus,
input[type="time"]:focus,
input[type="datetime-local"]:focus,
input[type="number"]:focus,
input[type="search"]:focus,
input[type="tel"]:focus,
input[type="url"]:focus,
textarea:focus {
  outline: none !important;
  border-color: var(--accent) !important;
  box-shadow: 0 0 0 2px rgba(26, 137, 23, 0.2) !important;
}

/* Override native browser date/time input internal selection colors */
input[type="date"]::-webkit-calendar-picker-indicator,
input[type="time"]::-webkit-calendar-picker-indicator {
  filter: invert(27%) sepia(51%) saturate(2878%) hue-rotate(88deg) brightness(104%) contrast(97%);
}

input[type="date"]::-webkit-datetime-edit-text,
input[type="date"]::-webkit-datetime-edit-month-field,
input[type="date"]::-webkit-datetime-edit-day-field,
input[type="date"]::-webkit-datetime-edit-year-field {
  color: var(--text-primary);
}

input[type="date"]::-webkit-datetime-edit-text:focus,
input[type="date"]::-webkit-datetime-edit-month-field:focus,
input[type="date"]::-webkit-datetime-edit-day-field:focus,
input[type="date"]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--accent-soft) !important;
  color: var(--accent) !important;
  border-radius: 2px;
}

/* Override native browser time input internal selection colors */
input[type="time"]::-webkit-datetime-edit-text,
input[type="time"]::-webkit-datetime-edit-hour-field,
input[type="time"]::-webkit-datetime-edit-minute-field,
input[type="time"]::-webkit-datetime-edit-second-field,
input[type="time"]::-webkit-datetime-edit-ampm-field {
  color: var(--text-primary);
}

input[type="time"]::-webkit-datetime-edit-text:focus,
input[type="time"]::-webkit-datetime-edit-hour-field:focus,
input[type="time"]::-webkit-datetime-edit-minute-field:focus,
input[type="time"]::-webkit-datetime-edit-second-field:focus,
input[type="time"]::-webkit-datetime-edit-ampm-field:focus {
  background-color: var(--accent-soft) !important;
  color: var(--accent) !important;
  border-radius: 2px;
  outline: none !important;
}

/* Dark mode specific focus styles */
[data-theme="dark"] input:focus,
[data-theme="dark"] input[type="text"]:focus,
[data-theme="dark"] input[type="email"]:focus,
[data-theme="dark"] input[type="password"]:focus,
[data-theme="dark"] input[type="date"]:focus,
[data-theme="dark"] input[type="time"]:focus,
[data-theme="dark"] input[type="datetime-local"]:focus,
[data-theme="dark"] input[type="number"]:focus,
[data-theme="dark"] input[type="search"]:focus,
[data-theme="dark"] input[type="tel"]:focus,
[data-theme="dark"] input[type="url"]:focus,
[data-theme="dark"] textarea:focus {
  outline: none !important;
  border-color: var(--accent) !important;
  box-shadow: 0 0 0 2px rgba(74, 222, 128, 0.3) !important;
}

[data-theme="dark"] input[type="date"]::-webkit-datetime-edit-text:focus,
[data-theme="dark"] input[type="date"]::-webkit-datetime-edit-month-field:focus,
[data-theme="dark"] input[type="date"]::-webkit-datetime-edit-day-field:focus,
[data-theme="dark"] input[type="date"]::-webkit-datetime-edit-year-field:focus {
  background-color: rgba(74, 222, 128, 0.2) !important;
  color: var(--accent) !important;
}

[data-theme="dark"] input[type="time"]::-webkit-datetime-edit-text:focus,
[data-theme="dark"] input[type="time"]::-webkit-datetime-edit-hour-field:focus,
[data-theme="dark"] input[type="time"]::-webkit-datetime-edit-minute-field:focus,
[data-theme="dark"] input[type="time"]::-webkit-datetime-edit-second-field:focus,
[data-theme="dark"] input[type="time"]::-webkit-datetime-edit-ampm-field:focus {
  background-color: rgba(74, 222, 128, 0.2) !important;
  color: var(--accent) !important;
  outline: none !important;
}

/* Prevent select dropdown from expanding container when open */
select:not([size]) {
  height: 2.5rem !important;
  max-height: 2.5rem !important;
  overflow: hidden !important;
}

/* Note: Native browser dropdown menus are rendered by the OS and cannot be fully constrained.
   The select element itself is constrained, but the dropdown menu will appear as the browser renders it. */

@layer base {
  * {
    @apply antialiased;
  }
  
  body {
    @apply font-sans;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Source Sans Pro', system-ui, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    color: var(--text-primary);
    background-color: var(--page-bg);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Playfair Display', Georgia, 'Times New Roman', serif;
    font-weight: 600;
    letter-spacing: -0.02em;
    color: var(--text-primary);
    line-height: 1.15;
  }
  
  h1 {
    font-size: clamp(2.75rem, 6vw, 3.5rem);
    line-height: 1.05;
  }
  
  h2 {
    font-size: clamp(2rem, 4vw, 2.75rem);
  }
  
  h3 {
    font-size: clamp(1.5rem, 3vw, 2rem);
  }
  
  p {
    @apply leading-relaxed;
    color: var(--text-primary);
    line-height: 1.8;
  }
  
  a {
    color: var(--accent);
    transition: color 0.2s ease;
  }
  
  a:hover {
    color: var(--accent-hover);
  }
  
  /* Ensure button hover states override global link hover with higher specificity */
  a.btn-primary:hover {
    color: white;
  }
  
  a.btn-secondary:hover {
    color: white;
  }
  
  a.btn-danger:hover {
    color: white;
  }
  
  /* Ensure links with accent background maintain white text on hover */
  a[class*="bg-[var(--accent)]"]:hover,
  a.bg-\[var\(--accent\)\]:hover {
    color: white !important;
  }
  
  /* Premium editorial typography - Medium/Substack style */
  .font-display {
    font-family: 'Playfair Display', Georgia, 'Times New Roman', serif;
    font-weight: 600;
    letter-spacing: -0.02em;
    line-height: 1.05;
  }
  
  /* Hero typography enhancements */
  .hero-title {
    font-family: 'Playfair Display', Georgia, 'Times New Roman', serif;
    font-weight: 600;
    letter-spacing: -0.025em;
    line-height: 1.05;
  }
  
  .hero-subtitle {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Source Sans Pro', system-ui, sans-serif;
    font-weight: 400;
    letter-spacing: -0.005em;
    line-height: 1.7;
    color: var(--text-muted);
  }

}

/* Custom styles */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

@layer components {
  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-lg font-medium transition-colors duration-200 px-4 py-2.5 text-sm leading-5 min-h-[44px] w-full sm:w-auto;
  }

  .btn:focus-visible {
    @apply outline-none ring-2 ring-offset-2 ring-[var(--accent)];
  }

  .btn-primary {
    @apply bg-[var(--accent)] text-white shadow-[0_12px_26px_rgba(26,137,23,0.2)] hover:bg-[var(--accent-hover)] hover:shadow-[0_14px_32px_rgba(26,137,23,0.22)] hover:text-white;
  }

  .btn-secondary {
    @apply text-white hover:text-white shadow-[0_10px_24px_rgba(17,24,39,0.18)];
    background-color: var(--text-primary);
  }
  
  .btn-secondary:hover {
    background-color: var(--text-primary);
    opacity: 0.9;
  }

  .btn-outline {
    @apply border border-[var(--border-subtle)] text-secondary bg-[var(--surface-bg)] transition-colors;
  }

  .btn-outline:hover {
    color: var(--accent);
    border-color: var(--accent);
    background-color: rgba(26, 137, 23, 0.08);
  }

  .btn-soft {
    @apply bg-surface-subtle text-secondary hover:text-[var(--accent)] hover:bg-[var(--surface-bg)] border border-transparent;
  }

  .btn-ghost {
    @apply bg-transparent text-secondary hover:text-[var(--accent)] hover:bg-surface-subtle border border-transparent;
  }

  .btn-danger {
    @apply bg-rose-500 text-white hover:bg-rose-600 hover:text-white shadow-[0_12px_24px_rgba(244,63,94,0.22)];
  }

  .btn-link {
    @apply bg-transparent text-[var(--accent)] px-0 py-0 w-auto sm:w-auto hover:text-[var(--accent-hover)] shadow-none;
  }

  .btn-icon {
    @apply inline-flex items-center justify-center rounded-full p-2 min-h-[40px] min-w-[40px] w-auto sm:w-auto;
  }

  .btn-icon-square {
    @apply inline-flex items-center justify-center rounded-lg p-2 min-h-[40px] min-w-[40px] w-auto sm:w-auto;
  }
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Prose styles for markdown content */
.prose {
  color: var(--text-primary);
  max-width: 680px;
  font-size: 18px; /* Slightly smaller to match Medium's visual size with sans-serif */
  line-height: 1.6; /* Optimal line height for readability */
}

/* Mobile-friendly font sizes */
@media (max-width: 768px) {
  .prose {
    font-size: 16px; /* Slightly smaller on mobile for better fit */
    line-height: 1.65; /* Slightly tighter line height on mobile */
  }
  
  .prose h1 {
    font-size: 1.875em; /* Smaller H1 on mobile */
  }
  
  .prose h2 {
    font-size: 1.5em; /* Smaller H2 on mobile */
  }
  
  .prose h3 {
    font-size: 1.25em; /* Smaller H3 on mobile */
  }
}

.prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 {
  color: var(--text-primary);
  font-weight: 600;
  margin-top: 2em;
  margin-bottom: 1em;
}

.prose h1 {
  font-size: 2.25em;
  border-bottom: 1px solid var(--border-subtle);
  padding-bottom: 0.5em;
}

.prose h2 {
  font-size: 1.875em;
}

.prose h3 {
  font-size: 1.5em;
}

.prose p {
  margin-bottom: 1.5em;
  line-height: 1.6; /* Match Medium's visual line spacing */
  color: var(--text-primary);
  font-size: inherit; /* Inherit 18px from .prose */
}

.prose ul, .prose ol {
  margin-bottom: 1.5em;
  padding-left: 1.625em;
}
.prose ul {
  list-style: disc;
}
.prose ol {
  list-style: decimal;
}

.prose li {
  margin-bottom: 0.5em;
  color: var(--text-primary);
}

.prose table {
  width: 100%;
  border-collapse: collapse;
  margin: 1em 0;
}

@media (max-width: 768px) {
  .prose table {
    display: block;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    border-radius: 0.75rem;
    border: 1px solid var(--border-subtle);
  }
  .prose table::-webkit-scrollbar {
    height: 6px;
  }
  .prose table::-webkit-scrollbar-thumb {
    background-color: rgba(148, 163, 184, 0.4);
    border-radius: 999px;
  }
  .prose table::-webkit-scrollbar-track {
    background-color: transparent;
  }
}

.article-content {
  color: var(--text-primary);
  font-size: 18px; /* Match Medium's visual size with sans-serif font */
  line-height: 1.6;
}

/* Mobile-friendly article content */
@media (max-width: 768px) {
  .article-content {
    font-size: 16px; /* Slightly smaller on mobile */
    line-height: 1.65;
  }
}

.article-content .table-scroll {
  width: 100%;
  overflow-x: auto;
  border-radius: 0.75rem;
  border: 1px solid var(--border-subtle);
  margin: 1.25rem 0;
  background: var(--surface-bg);
}

.article-content .table-scroll table {
  margin: 0;
  width: 100%;
  min-width: 640px;
}

@media (max-width: 768px) {
  .article-content .table-scroll table {
    min-width: 520px;
  }
}

.article-content .table-scroll::-webkit-scrollbar {
  height: 8px;
}

.article-content .table-scroll::-webkit-scrollbar-thumb {
  background-color: rgba(148, 163, 184, 0.45);
  border-radius: 999px;
}

.article-content .table-scroll::-webkit-scrollbar-track {
  background-color: transparent;
}

.prose table:first-child {
  margin-top: 0;
}

.prose table:last-child {
  margin-bottom: 0;
}

.prose p + table {
  margin-top: 0.75em;
}

.prose table + p {
  margin-top: 0.75em;
}

.prose th,
.prose td {
  border: 1px solid var(--border-subtle);
  text-align: left;
  vertical-align: top;
}

.prose th {
  background-color: var(--surface-subtle);
  font-weight: 600;
  padding: 0.5em 1em;
}

.prose td {
  padding: 0.75em 1em 0.5em 1em;
}

.prose table[data-borderless="true"] {
  border: none;
}

.prose table[data-borderless="true"] th,
.prose table[data-borderless="true"] td {
  border-color: transparent;
}

.prose blockquote {
  border-left: 4px solid var(--accent);
  padding-left: 1.5em;
  margin: 2em 0;
  font-style: italic;
  color: var(--text-primary);
}

.prose code {
  background-color: var(--surface-subtle);
  padding: 0.25em 0.5em;
  border-radius: 0.375em;
  font-size: 0.875em;
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  color: var(--text-primary);
}

.prose pre {
  background-color: var(--content-bg);
  color: var(--text-primary);
  padding: 1.5em;
  border-radius: 0.5em;
  overflow-x: auto;
  margin: 2em 0;
  border: 1px solid var(--border-subtle);
}

.prose pre code {
  background-color: transparent;
  padding: 0;
  color: inherit;
}

.prose a {
  color: var(--accent);
  text-decoration: none;
}

.prose a:hover {
  color: var(--accent-hover);
  text-decoration: underline;
}

.prose img {
  border-radius: 0.5em;
  margin: 2em 0;
}

.prose hr {
  border: none;
  border-top: 1px solid var(--border-subtle);
  margin: 2em 0;
  width: 100%;
}

.article-content hr {
  border: none;
  border-top: 1px solid var(--border-subtle);
  margin: 2em 0;
  width: 100%;
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
  overflow-x: hidden;
}

body {
  overflow-x: hidden;
  margin: 0;
  padding: 0;
}

/* Custom scrollbar - Modern design */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--surface-subtle);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: var(--text-muted);
  border-radius: 4px;
  border: 2px solid transparent;
  background-clip: padding-box;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--text-secondary);
  background-clip: padding-box;
}

/* Glassmorphism utilities */
.glass {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(12px) saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
}

.glass-dark {
  background: rgba(15, 23, 42, 0.7);
  backdrop-filter: blur(12px) saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
}

.glass-card {
  background: var(--surface-bg);
  backdrop-filter: blur(16px) saturate(180%);
  -webkit-backdrop-filter: blur(16px) saturate(180%);
  border: 1px solid var(--border-subtle);
  box-shadow: 0 4px 16px 0 var(--shadow-default);
}

.glass-card-hover {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.glass-card-hover:hover {
  background: var(--surface-bg);
  box-shadow: 
    0 8px 32px 0 var(--shadow-default),
    0 0 0 1px var(--border-subtle) inset;
  transform: translateY(-2px);
}

/* Premium card styles */
.card-elevated {
  background: var(--surface-bg);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid var(--border-subtle);
  box-shadow: 
    0 10px 40px var(--shadow-default),
    0 2px 8px var(--shadow-default);
  border-radius: 16px;
}

.card-elevated-hover {
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.card-elevated-hover:hover {
  transform: translateY(-4px);
  box-shadow: 
    0 20px 60px var(--shadow-default),
    0 4px 16px var(--shadow-default),
    0 0 0 1px var(--border-subtle);
}

/* Gradient backgrounds */
.bg-gradient-saas {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.bg-gradient-analytics {
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
}

.bg-gradient-success {
  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
}

.bg-gradient-warning {
  background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
}

/* Animated gradient text */
.gradient-text {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Sparkline container */
.sparkline-container {
  position: relative;
  width: 100%;
  height: 40px;
  overflow: hidden;
}

/* Metric counter animation */
@keyframes countUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.metric-counter {
  animation: countUp 0.6s ease-out;
}

/* Smooth transitions */
.transition-smooth {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Glow effects */
.glow-blue {
  box-shadow: 0 0 20px rgba(99, 102, 241, 0.3);
}

.glow-purple {
  box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
}

.glow-pink {
  box-shadow: 0 0 20px rgba(236, 72, 153, 0.3);
}

/* Sidebar styles */
.sidebar-glass {
  background: var(--surface-bg);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border-right: 1px solid var(--border-subtle);
  box-shadow: 4px 0 24px var(--shadow-default);
}

@layer utilities {
  .layout-container {
    @apply w-full px-4 sm:px-6 lg:px-8;
  }

  .layout-container-wide {
    @apply w-full px-4 sm:px-6 lg:px-8;
  }

  .section-spacing-y {
    @apply py-12;
  }

  .section-hero-spacing-y {
    @apply py-16 md:py-24;
  }

  .bg-page {
    background-color: var(--page-bg);
  }

  .bg-content {
    background-color: var(--content-bg);
  }

  .bg-surface {
    background-color: var(--surface-bg);
  }

  .bg-surface-subtle {
    background-color: var(--surface-subtle);
  }

  .surface-card {
    background-color: var(--surface-bg);
    border: 1px solid var(--border-subtle);
    border-radius: 1.25rem;
    box-shadow: 0 2px 8px var(--shadow-default);
  }

  .auth-shell {
    background-color: var(--page-bg);
    background-image:
      radial-gradient(circle at 10% 20%, rgba(74, 222, 128, 0.16), transparent 45%),
      radial-gradient(circle at 90% 80%, rgba(26, 137, 23, 0.12), transparent 40%);
  }

  .text-primary {
    color: var(--text-primary);
  }

  .text-secondary {
    color: var(--text-secondary);
  }

  .text-muted {
    color: var(--text-muted);
  }

  /* Override legacy Tailwind greys to respect theme tokens */
  .bg-white {
    background-color: var(--surface-bg) !important;
  }

  .bg-gray-50,
  .bg-gray-100,
  .bg-gray-200,
  .bg-slate-50,
  .bg-slate-100,
  .bg-surface-subtle {
    background-color: var(--surface-subtle) !important;
  }

  .text-gray-900,
  .text-gray-800,
  .text-gray-700,
  .text-slate-900,
  .text-slate-800,
  .text-slate-700 {
    color: var(--text-primary) !important;
  }

  .text-gray-600,
  .text-slate-600 {
    color: var(--text-secondary) !important;
  }

  .text-gray-500,
  .text-gray-400,
  .text-slate-500,
  .text-slate-400 {
    color: var(--text-muted) !important;
  }

  .border-gray-50,
  .border-gray-100,
  .border-gray-200,
  .border-gray-300,
  .border-slate-100,
  .border-slate-200 {
    border-color: var(--border-subtle) !important;
  }

  .placeholder-gray-500::-moz-placeholder,
  .placeholder-slate-500::-moz-placeholder {
    color: var(--text-muted) !important;
  }

  .placeholder-gray-500::placeholder,
  .placeholder-slate-500::placeholder {
    color: var(--text-muted) !important;
  }

  .hover\:bg-gray-50:hover,
  .hover\:bg-gray-100:hover,
  .hover\:bg-gray-200:hover,
  .hover\:bg-slate-50:hover,
  .hover\:bg-slate-100:hover {
    background-color: var(--surface-subtle) !important;
  }

  /* Logo theme adaptation - add black stroke in light mode for visibility */
  .logo-theme-aware {
    transition: filter 0.3s ease;
    position: relative;
  }

  [data-theme="light"] .logo-theme-aware {
    /* Add thin black outline - testing with 0.5px */
    filter: drop-shadow(-0.5px 0 0 black)
            drop-shadow(0.5px 0 0 black)
            drop-shadow(0 -0.5px 0 black)
            drop-shadow(0 0.5px 0 black)
            drop-shadow(-0.5px -0.5px 0 black)
            drop-shadow(0.5px -0.5px 0 black)
            drop-shadow(-0.5px 0.5px 0 black)
            drop-shadow(0.5px 0.5px 0 black) !important;
  }
  
  :root:not([data-theme="dark"]) .logo-theme-aware {
    filter: drop-shadow(-0.5px 0 0 black)
            drop-shadow(0.5px 0 0 black)
            drop-shadow(0 -0.5px 0 black)
            drop-shadow(0 0.5px 0 black)
            drop-shadow(-0.5px -0.5px 0 black)
            drop-shadow(0.5px -0.5px 0 black)
            drop-shadow(-0.5px 0.5px 0 black)
            drop-shadow(0.5px 0.5px 0 black) !important;
  }

  [data-theme="dark"] .logo-theme-aware,
  .dark .logo-theme-aware {
    filter: none;
  }

  /* Fallback for images without class */
  [data-theme="light"] img[src="/nexus-logo.svg"],
  [data-theme="light"] img[src="/nexus-logo-icon.svg"],
  [data-theme="light"] img[src*="nexus-logo"] {
    filter: drop-shadow(-0.5px 0 0 black)
            drop-shadow(0.5px 0 0 black)
            drop-shadow(0 -0.5px 0 black)
            drop-shadow(0 0.5px 0 black)
            drop-shadow(-0.5px -0.5px 0 black)
            drop-shadow(0.5px -0.5px 0 black)
            drop-shadow(-0.5px 0.5px 0 black)
            drop-shadow(0.5px 0.5px 0 black) !important;
  }

  [data-theme="dark"] img[src="/nexus-logo.svg"],
  [data-theme="dark"] img[src="/nexus-logo-icon.svg"],
  [data-theme="dark"] img[src*="nexus-logo"],
  .dark img[src="/nexus-logo.svg"],
  .dark img[src="/nexus-logo-icon.svg"],
  .dark img[src*="nexus-logo"] {
    filter: none;
  }

  /* Screen reader only - accessible but visually hidden */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  .sr-only:focus,
  .focus\:not-sr-only:focus {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
}

/* Write Button Styles - Official Dark Green Theme */
.neumorphic-write-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.375rem;
  padding: 0.5rem 1rem;
  background-color: var(--accent);
  color: white;
  border: none;
  border-radius: 8px;
  font-weight: 500;
  font-size: 0.875rem;
  letter-spacing: 0;
  text-transform: none;
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
  box-shadow: 0 2px 8px rgba(26, 137, 23, 0.15);
  font-family: 'Georgia', 'Times New Roman', serif;
}

.neumorphic-write-button:hover {
  background-color: var(--accent-hover);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(26, 137, 23, 0.2);
}

.neumorphic-write-button:active {
  transform: translateY(0);
  box-shadow: 0 2px 4px rgba(26, 137, 23, 0.15);
}

.neumorphic-write-button:focus-visible {
  outline: none;
  box-shadow: 
    0 2px 8px rgba(26, 137, 23, 0.15),
    0 0 0 3px rgba(26, 137, 23, 0.4);
}

.write-button-icon {
  width: 1rem;
  height: 1rem;
  stroke-width: 2;
  color: white;
  flex-shrink: 0;
  stroke: white;
  fill: none;
}

.write-button-text {
  font-weight: 500;
  letter-spacing: 0;
  color: white;
  font-family: 'Georgia', 'Times New Roman', serif;
}

/* Container with cream background for neumorphic button */
.neumorphic-container {
  background-color: #F8F5EE;
  padding: 3rem;
  border-radius: 1rem;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
}

/* Print Styles */
@media print {
  * {
    background: white !important;
    color: black !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }

  body {
    font-size: 12pt;
    line-height: 1.5;
  }

  /* Hide non-essential elements */
  header,
  footer,
  nav,
  .btn,
  button:not(.print-visible),
  .no-print {
    display: none !important;
  }

  /* Page setup */
  @page {
    margin: 2cm;
  }

  /* Typography */
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
    page-break-inside: avoid;
  }

  p, li {
    orphans: 3;
    widows: 3;
  }

  /* Links */
  a {
    text-decoration: underline;
  }

  a[href^="http"]:after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
    color: #666;
  }

  /* Images */
  img {
    max-width: 100% !important;
    page-break-inside: avoid;
  }

  /* Tables */
  table {
    page-break-inside: avoid;
    border-collapse: collapse;
  }

  th, td {
    border: 1px solid #000;
    padding: 0.5em;
  }

  /* Code blocks */
  pre, code {
    page-break-inside: avoid;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Avoid page breaks */
  blockquote,
  pre,
  img {
    page-break-inside: avoid;
  }

  /* Prose content */
  .prose {
    max-width: 100% !important;
  }
}